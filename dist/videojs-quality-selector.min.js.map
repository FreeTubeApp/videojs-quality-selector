{"version":3,"sources":["dist/videojs-quality-selector.js"],"names":["global","factory","exports","module","require","define","amd","globalThis","self","videojs","this","SafeSeek","constructor","player","seekToTime","_player","_seekToTime","_hasFinished","_keepThisInstanceWhenPlayerSourcesChange","_seekWhenSafe","readyState","_seekFn","_seek","bind","one","onPlayerSourcesChange","cancel","onQualitySelectionChange","hasFinished","currentTime","off","CustomEvents","QUALITY_REQUESTED","QUALITY_SELECTED","PLAYER_SOURCES_CHANGED","QualityOption","getComponent","options","source","TypeError","super","Object","assign","selectable","label","handleClick","event","trigger","QualityChangeClass","QualitySelector","on","newSource","setSelectedSource","addClass","removeClass","update","selectedSrc","src","controlText","source_","undefined","item","items","selected","createItems","sources","currentSources","length","map","buildWrapperCSSClass","registerComponent","SourceInterceptor","begin","use","setSource","playerSelectedSource","next","_qualitySelectorSafeSeek","JSON","stringify","_qualitySelectorPreviousSources","chosenSource","find","QualitySelectorPlugin","getPlugin","obj","merge","intercept","window","hook","let","currentPlaybackRate","playbackRate","isPaused","paused","ready","play"],"mappings":"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"}